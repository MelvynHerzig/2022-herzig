<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TuberXpert - Tests: TestCovariateValidatorAndModelSelector Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Sans titre.png"/></td>
  <td id="projectalign">
   <div id="projectname">TuberXpert - Tests<span id="projectnumber">&#160;version 1.0</span>
   </div>
   <div id="projectbrief">The expert system that adjusts treatments</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="struct_test_covariate_validator_and_model_selector-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TestCovariateValidatorAndModelSelector Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Tests for CovariateValidatorAndModelSelector from the GeneralXpertFlowStepProvider.  
 <a href="struct_test_covariate_validator_and_model_selector.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="test__covariatevalidatorandmodelselector_8h_source.html">test_covariatevalidatorandmodelselector.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TestCovariateValidatorAndModelSelector:</div>
<div class="dyncontent">
 <div class="center">
  <img src="struct_test_covariate_validator_and_model_selector.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4a02fbaa3e44dd48f0a8f05f21cbfe64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a4a02fbaa3e44dd48f0a8f05f21cbfe64">covariateValidatorAndModelSelector_failure_whenTreatmentNullptr</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a4a02fbaa3e44dd48f0a8f05f21cbfe64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that there is an error if the treatment of an XpertRequestResult is nullptr in CovariateValidatorAndModelSelector. The CovariateValidatorAndDrugModelSelector must set the error in the XpertRequestResult, shouldBeProcessed must return false and the drug model must always be nullptr.  <a href="struct_test_covariate_validator_and_model_selector.html#a4a02fbaa3e44dd48f0a8f05f21cbfe64">More...</a><br /></td></tr>
<tr class="separator:a4a02fbaa3e44dd48f0a8f05f21cbfe64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab2c0907ca4011a13fd162c992882a8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#aab2c0907ca4011a13fd162c992882a8c">covariateValidatorAndModelSelector_failure_whenNoDrugModelForDrugId</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:aab2c0907ca4011a13fd162c992882a8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The test loads an xpertRequest that asks for a drug that is not in the drug model repository. The CovariateValidatorAndDrugModelSelector must set the error in the XpertRequestResult, shouldBeProcessed must return false and the drug model must always be nullptr.  <a href="struct_test_covariate_validator_and_model_selector.html#aab2c0907ca4011a13fd162c992882a8c">More...</a><br /></td></tr>
<tr class="separator:aab2c0907ca4011a13fd162c992882a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b22f797799dfa5c8fe04e4c6231257"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a86b22f797799dfa5c8fe04e4c6231257">covariateValidatorAndModelSelector_failure_whenTreatmentFormulationsAndRoutesAreDifferent</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a86b22f797799dfa5c8fe04e4c6231257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that all formulations and routes of the xpert query are the same. When it is not the case, the corresponding XpertRequestResult gets its error message set. There are two requests, one that has a route that changes and the other has an absorption that changes. Both must fail.  <a href="struct_test_covariate_validator_and_model_selector.html#a86b22f797799dfa5c8fe04e4c6231257">More...</a><br /></td></tr>
<tr class="separator:a86b22f797799dfa5c8fe04e4c6231257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66cad1b2130ce990bc01320e0bb5478e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a66cad1b2130ce990bc01320e0bb5478e">covariateValidatorAndModelSelector_failure_withOnlyOneModelWithDifferentFormulationAndRoute</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a66cad1b2130ce990bc01320e0bb5478e"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the model is incompatible in terms of formulation and route and is the only one in the directory, check that the XpertRequestResult error is set and that no drug model is assigned. Treatment absorption is defined as intravascular, which is not compatible with the original imatinib drug model absorption.  <a href="struct_test_covariate_validator_and_model_selector.html#a66cad1b2130ce990bc01320e0bb5478e">More...</a><br /></td></tr>
<tr class="separator:a66cad1b2130ce990bc01320e0bb5478e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d880426ceafbe32b0bdf69910128a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#ad3d880426ceafbe32b0bdf69910128a8">covariateValidatorAndModelSelector_success_withOneModelWithDifferentAndOneModelWithSameFormulationAndRoute</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:ad3d880426ceafbe32b0bdf69910128a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the model is incompatible in terms of formulation and route but there is another compatible in the directory, check that the XpertRequestResult error is not set and that the second model is chosen. The query has an absorption model defined as extravascular. The first model is set to bolus (modified model of the imatinib) and the second model to extra (original model of the imatinib).  <a href="struct_test_covariate_validator_and_model_selector.html#ad3d880426ceafbe32b0bdf69910128a8">More...</a><br /></td></tr>
<tr class="separator:ad3d880426ceafbe32b0bdf69910128a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525a6c7453a9c55c7aa9cc2ec48b3e5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a525a6c7453a9c55c7aa9cc2ec48b3e5e">covariateValidatorAndModelSelector_failure_withOneModelHardConstraintNotMet</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a525a6c7453a9c55c7aa9cc2ec48b3e5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the model is incompatible in terms of constraints and it is the only model in the directory, check that the XpertRequestResult error is set and that no drug model is assigned. In this case, the patient is too old for the hard constraint age of the original model of imatinib.  <a href="struct_test_covariate_validator_and_model_selector.html#a525a6c7453a9c55c7aa9cc2ec48b3e5e">More...</a><br /></td></tr>
<tr class="separator:a525a6c7453a9c55c7aa9cc2ec48b3e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10035223836dc82ebc985353cb6e3075"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a10035223836dc82ebc985353cb6e3075">covariateValidatorAndModelSelector_success_withOneModelHardConstraintNotMetAndOtherModelOk</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a10035223836dc82ebc985353cb6e3075"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the model is incompatible in terms of constraints, but there is antoher compatible model in the directory, check that the XpertRequestResult error is not set and that the second model is chosen. The first model (original model of the imatinib) has the hard constraint of age not met. The second model (modified model of the imatinib) hard age constraint has been modified to return true in all cases.  <a href="struct_test_covariate_validator_and_model_selector.html#a10035223836dc82ebc985353cb6e3075">More...</a><br /></td></tr>
<tr class="separator:a10035223836dc82ebc985353cb6e3075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd1d54578fadae46dd77ec80d736237"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a9cd1d54578fadae46dd77ec80d736237">covariateValidatorAndModelSelector_success_withOneModelSoftConstraintNotMet</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a9cd1d54578fadae46dd77ec80d736237"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the model is partially compatible in terms of constraints and is the only one in the directory, check that the XpertRequestResult error is not set and that the model is chosen. In this case, the patient is overweighted for the soft body weight constraint of the original imatinib model.  <a href="struct_test_covariate_validator_and_model_selector.html#a9cd1d54578fadae46dd77ec80d736237">More...</a><br /></td></tr>
<tr class="separator:a9cd1d54578fadae46dd77ec80d736237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6180ca894f06118ac969eb7c711661e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a6180ca894f06118ac969eb7c711661e2">covariateValidatorAndModelSelector_failure_multipleBirthDateOneModelWithAgeOneModelWithout</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a6180ca894f06118ac969eb7c711661e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The query defines several birth dates and the model requires an age. This is not logical, so the XpertRequestResult gets its error message set and is no more processable. It stops the search even if there are other models after. The first model is the original imatinib with age as a covariate and the second is a modified version without the age (which could have been chosen). We need to return an error and stop the run because the first model may be better than the second when corrected.  <a href="struct_test_covariate_validator_and_model_selector.html#a6180ca894f06118ac969eb7c711661e2">More...</a><br /></td></tr>
<tr class="separator:a6180ca894f06118ac969eb7c711661e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0268532649b85f1177db0f76350d0825"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a0268532649b85f1177db0f76350d0825">covariateValidatorAndModelSelector_failure_badBirthDateDataTypeOneModelWithAgeOneModelWithout</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a0268532649b85f1177db0f76350d0825"><td class="mdescLeft">&#160;</td><td class="mdescRight">The query sets one birth date with a wrong data type and the model requires an age. This is not manageable, so it stops the search of the drug model even if there is a second potentially valid model. The first model is the original imatinib with age as a covariate and the second is a modified version without the age (which could have been chosen). We need to return an error and stop the run because the first model may be better than the second when corrected.  <a href="struct_test_covariate_validator_and_model_selector.html#a0268532649b85f1177db0f76350d0825">More...</a><br /></td></tr>
<tr class="separator:a0268532649b85f1177db0f76350d0825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60af3f2a1db2166528b489bb3e7bd81e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a60af3f2a1db2166528b489bb3e7bd81e">covariateValidatorAndModelSelector_failure_badGistUnitOneModelWithGistOneModelWithout</a> (const std::string &amp;_testName)</td></tr>
<tr class="separator:a60af3f2a1db2166528b489bb3e7bd81e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88ae69519d0cc378fd18bd118d6eee3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#ac88ae69519d0cc378fd18bd118d6eee3">covariateValidatorAndModelSelector_getTheBestModel_betweenThreeModelsAndNoTie</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:ac88ae69519d0cc378fd18bd118d6eee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">There is one query with 4 covariates (bodyweight3, bodyweight4 ... bodyweight6) and three versions of the imatinib model:  <a href="struct_test_covariate_validator_and_model_selector.html#ac88ae69519d0cc378fd18bd118d6eee3">More...</a><br /></td></tr>
<tr class="separator:ac88ae69519d0cc378fd18bd118d6eee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96744576d913acfc529a57d9724a2c4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a96744576d913acfc529a57d9724a2c4a">covariateValidatorAndModelSelector_getTheBestModel_betweenTwoModelsWithTie</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a96744576d913acfc529a57d9724a2c4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">There is one query with 1 covariate (bodyweight 3) and two versions of the imatinib model:  <a href="struct_test_covariate_validator_and_model_selector.html#a96744576d913acfc529a57d9724a2c4a">More...</a><br /></td></tr>
<tr class="separator:a96744576d913acfc529a57d9724a2c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f445964e4b39a69b2db1563559cc01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a52f445964e4b39a69b2db1563559cc01">covariateValidatorAndModelSelector_failure_whenSelectedModelNotSupportingRequestedLanguageAndEnglish</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a52f445964e4b39a69b2db1563559cc01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the CovariateValidatiorAndModelSelector fails when the selected drug model does not support the requested language in its covariate definitions. This test makes 3 requests requiring French on 3 different drugs whose drug model covariates does not support french. There are 3 request to test that it fails on the covariate name, the covariate description and the covariate error message. The 3 drug models are based on the original imatinib model but the languages of the first covariate has been changed in 3 different positions.  <a href="struct_test_covariate_validator_and_model_selector.html#a52f445964e4b39a69b2db1563559cc01">More...</a><br /></td></tr>
<tr class="separator:a52f445964e4b39a69b2db1563559cc01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a9bbf35b72531ab70939c67b5d192e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#a37a9bbf35b72531ab70939c67b5d192e">covariateValidatorAndModelSelector_getGoodTranslations_withModelThatSupportsRequestLanguageAndModelOnlyEnglish</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:a37a9bbf35b72531ab70939c67b5d192e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the name, the description and the warning messages of a covariateValidationResult are in the requested language or in English when the requested language is not available. This test makes 2 requests requiring French for 2 different drugs. Once time drug model supports French, one time it supports only English. The first model is the original imatinib model and the second is a modified version. This test only checks the body weight covariate validation.  <a href="struct_test_covariate_validator_and_model_selector.html#a37a9bbf35b72531ab70939c67b5d192e">More...</a><br /></td></tr>
<tr class="separator:a37a9bbf35b72531ab70939c67b5d192e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ceee3ee292c64713747d7d9e48b1db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_test_covariate_validator_and_model_selector.html#af4ceee3ee292c64713747d7d9e48b1db">getCovariateValidationResults_returnsCorrectValues_whenCovariateValidatorAndModelSelectorSuccess</a> (const std::string &amp;_testName)</td></tr>
<tr class="memdesc:af4ceee3ee292c64713747d7d9e48b1db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the CovariateValidationResults are correctly defined when a valid model is found. Some coariates are present several times, others not even once. This test is based on the original imatinib model. In addition, the covariate results must be sorted by name (in English as requested in the query) and then by measurement date.  <a href="struct_test_covariate_validator_and_model_selector.html#af4ceee3ee292c64713747d7d9e48b1db">More...</a><br /></td></tr>
<tr class="separator:af4ceee3ee292c64713747d7d9e48b1db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Tests for CovariateValidatorAndModelSelector from the GeneralXpertFlowStepProvider. </p>
<dl class="section date"><dt>Date</dt><dd>27/05/2022 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Herzig Melvyn </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0268532649b85f1177db0f76350d0825" name="a0268532649b85f1177db0f76350d0825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0268532649b85f1177db0f76350d0825">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_failure_badBirthDateDataTypeOneModelWithAgeOneModelWithout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_failure_badBirthDateDataTypeOneModelWithAgeOneModelWithout </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The query sets one birth date with a wrong data type and the model requires an age. This is not manageable, so it stops the search of the drug model even if there is a second potentially valid model. The first model is the original imatinib with age as a covariate and the second is a modified version without the age (which could have been chosen). We need to return an error and stop the run because the first model may be better than the second when corrected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a60af3f2a1db2166528b489bb3e7bd81e" name="a60af3f2a1db2166528b489bb3e7bd81e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60af3f2a1db2166528b489bb3e7bd81e">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_failure_badGistUnitOneModelWithGistOneModelWithout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_failure_badGistUnitOneModelWithGistOneModelWithout </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >covariateValidatorAndModelSelector_getTheBestModel_betweenThreeModelsAndNoTie one gist with the wrong unit and the model requires this covariate. This is not manageable, so stop the search of drug model even if there is a second potentially valid model. The first model is the original imatinib model and the second is a modified imatinib model that does not use gist as a covariate (which probably would have worked). We need to return an error and stop the run because the first model may be better than the second when corrected. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6180ca894f06118ac969eb7c711661e2" name="a6180ca894f06118ac969eb7c711661e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6180ca894f06118ac969eb7c711661e2">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_failure_multipleBirthDateOneModelWithAgeOneModelWithout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_failure_multipleBirthDateOneModelWithAgeOneModelWithout </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The query defines several birth dates and the model requires an age. This is not logical, so the XpertRequestResult gets its error message set and is no more processable. It stops the search even if there are other models after. The first model is the original imatinib with age as a covariate and the second is a modified version without the age (which could have been chosen). We need to return an error and stop the run because the first model may be better than the second when corrected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab2c0907ca4011a13fd162c992882a8c" name="aab2c0907ca4011a13fd162c992882a8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab2c0907ca4011a13fd162c992882a8c">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_failure_whenNoDrugModelForDrugId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_failure_whenNoDrugModelForDrugId </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The test loads an xpertRequest that asks for a drug that is not in the drug model repository. The CovariateValidatorAndDrugModelSelector must set the error in the XpertRequestResult, shouldBeProcessed must return false and the drug model must always be nullptr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a52f445964e4b39a69b2db1563559cc01" name="a52f445964e4b39a69b2db1563559cc01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f445964e4b39a69b2db1563559cc01">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_failure_whenSelectedModelNotSupportingRequestedLanguageAndEnglish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_failure_whenSelectedModelNotSupportingRequestedLanguageAndEnglish </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that the CovariateValidatiorAndModelSelector fails when the selected drug model does not support the requested language in its covariate definitions. This test makes 3 requests requiring French on 3 different drugs whose drug model covariates does not support french. There are 3 request to test that it fails on the covariate name, the covariate description and the covariate error message. The 3 drug models are based on the original imatinib model but the languages of the first covariate has been changed in 3 different positions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a86b22f797799dfa5c8fe04e4c6231257" name="a86b22f797799dfa5c8fe04e4c6231257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86b22f797799dfa5c8fe04e4c6231257">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_failure_whenTreatmentFormulationsAndRoutesAreDifferent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_failure_whenTreatmentFormulationsAndRoutesAreDifferent </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that all formulations and routes of the xpert query are the same. When it is not the case, the corresponding XpertRequestResult gets its error message set. There are two requests, one that has a route that changes and the other has an absorption that changes. Both must fail. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a02fbaa3e44dd48f0a8f05f21cbfe64" name="a4a02fbaa3e44dd48f0a8f05f21cbfe64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a02fbaa3e44dd48f0a8f05f21cbfe64">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_failure_whenTreatmentNullptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_failure_whenTreatmentNullptr </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that there is an error if the treatment of an XpertRequestResult is nullptr in CovariateValidatorAndModelSelector. The CovariateValidatorAndDrugModelSelector must set the error in the XpertRequestResult, shouldBeProcessed must return false and the drug model must always be nullptr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a525a6c7453a9c55c7aa9cc2ec48b3e5e" name="a525a6c7453a9c55c7aa9cc2ec48b3e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525a6c7453a9c55c7aa9cc2ec48b3e5e">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_failure_withOneModelHardConstraintNotMet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_failure_withOneModelHardConstraintNotMet </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the model is incompatible in terms of constraints and it is the only model in the directory, check that the XpertRequestResult error is set and that no drug model is assigned. In this case, the patient is too old for the hard constraint age of the original model of imatinib. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a66cad1b2130ce990bc01320e0bb5478e" name="a66cad1b2130ce990bc01320e0bb5478e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66cad1b2130ce990bc01320e0bb5478e">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_failure_withOnlyOneModelWithDifferentFormulationAndRoute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_failure_withOnlyOneModelWithDifferentFormulationAndRoute </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the model is incompatible in terms of formulation and route and is the only one in the directory, check that the XpertRequestResult error is set and that no drug model is assigned. Treatment absorption is defined as intravascular, which is not compatible with the original imatinib drug model absorption. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a37a9bbf35b72531ab70939c67b5d192e" name="a37a9bbf35b72531ab70939c67b5d192e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37a9bbf35b72531ab70939c67b5d192e">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_getGoodTranslations_withModelThatSupportsRequestLanguageAndModelOnlyEnglish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_getGoodTranslations_withModelThatSupportsRequestLanguageAndModelOnlyEnglish </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that the name, the description and the warning messages of a covariateValidationResult are in the requested language or in English when the requested language is not available. This test makes 2 requests requiring French for 2 different drugs. Once time drug model supports French, one time it supports only English. The first model is the original imatinib model and the second is a modified version. This test only checks the body weight covariate validation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac88ae69519d0cc378fd18bd118d6eee3" name="ac88ae69519d0cc378fd18bd118d6eee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88ae69519d0cc378fd18bd118d6eee3">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_getTheBestModel_betweenThreeModelsAndNoTie()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_getTheBestModel_betweenThreeModelsAndNoTie </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>There is one query with 4 covariates (bodyweight3, bodyweight4 ... bodyweight6) and three versions of the imatinib model: </p>
<ul>
<li>The first has two out of two definitions missing from query covariates (score 2) (bodyweight 1 &amp; 2)</li>
<li>The second has one out of two definitions missing from query covariates. The present covariate is respecting the definition validation. (score 1) (bodyweight 3 &amp; 4)</li>
<li>The third has two out of two definitions present in query covariates. The present covariates don't respect the definitions validation. (score 2) (bodyweight 5 &amp; 6) The second model must be chosen. The models are custom imatinib models that extend the original model with bodyweight1/2/3/4/5/6. For simplicity, we leave the original covariate definitions but ignore them since none of their value are defined in the query. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a id="a96744576d913acfc529a57d9724a2c4a" name="a96744576d913acfc529a57d9724a2c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96744576d913acfc529a57d9724a2c4a">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_getTheBestModel_betweenTwoModelsWithTie()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_getTheBestModel_betweenTwoModelsWithTie </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>There is one query with 1 covariate (bodyweight 3) and two versions of the imatinib model: </p>
<ul>
<li>The first has one definition missing from query covariates (score 1) (bodyweight1)</li>
<li>The second has one out of two definitions missing from query covariates. The present covariate is respecting the definition validation. (score 1) (bodyweight2 &amp; 3) There is a tie, but the second model is chosen because it has the most covariate definitions. The models are custom imatinib models that extend the original model with bodyweight1/2/3. For simplicity, we leave the original covariate definitions but ignore them since none of their value are defined in the query. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a id="a10035223836dc82ebc985353cb6e3075" name="a10035223836dc82ebc985353cb6e3075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10035223836dc82ebc985353cb6e3075">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_success_withOneModelHardConstraintNotMetAndOtherModelOk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_success_withOneModelHardConstraintNotMetAndOtherModelOk </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the model is incompatible in terms of constraints, but there is antoher compatible model in the directory, check that the XpertRequestResult error is not set and that the second model is chosen. The first model (original model of the imatinib) has the hard constraint of age not met. The second model (modified model of the imatinib) hard age constraint has been modified to return true in all cases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9cd1d54578fadae46dd77ec80d736237" name="a9cd1d54578fadae46dd77ec80d736237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cd1d54578fadae46dd77ec80d736237">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_success_withOneModelSoftConstraintNotMet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_success_withOneModelSoftConstraintNotMet </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the model is partially compatible in terms of constraints and is the only one in the directory, check that the XpertRequestResult error is not set and that the model is chosen. In this case, the patient is overweighted for the soft body weight constraint of the original imatinib model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad3d880426ceafbe32b0bdf69910128a8" name="ad3d880426ceafbe32b0bdf69910128a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d880426ceafbe32b0bdf69910128a8">&#9670;&nbsp;</a></span>covariateValidatorAndModelSelector_success_withOneModelWithDifferentAndOneModelWithSameFormulationAndRoute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::covariateValidatorAndModelSelector_success_withOneModelWithDifferentAndOneModelWithSameFormulationAndRoute </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the model is incompatible in terms of formulation and route but there is another compatible in the directory, check that the XpertRequestResult error is not set and that the second model is chosen. The query has an absorption model defined as extravascular. The first model is set to bolus (modified model of the imatinib) and the second model to extra (original model of the imatinib). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af4ceee3ee292c64713747d7d9e48b1db" name="af4ceee3ee292c64713747d7d9e48b1db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4ceee3ee292c64713747d7d9e48b1db">&#9670;&nbsp;</a></span>getCovariateValidationResults_returnsCorrectValues_whenCovariateValidatorAndModelSelectorSuccess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestCovariateValidatorAndModelSelector::getCovariateValidationResults_returnsCorrectValues_whenCovariateValidatorAndModelSelectorSuccess </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_testName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that the CovariateValidationResults are correctly defined when a valid model is found. Some coariates are present several times, others not even once. This test is based on the original imatinib model. In addition, the covariate results must be sorted by name (in English as requested in the query) and then by measurement date. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_testName</td><td>Name of the test </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>C:/Users/melvy/Desktop/Dev/2022-herzig/dev/tucuxi-tuberxpert/test/tests/<a class="el" href="test__covariatevalidatorandmodelselector_8h_source.html">test_covariatevalidatorandmodelselector.h</a></li>
<li>C:/Users/melvy/Desktop/Dev/2022-herzig/dev/tucuxi-tuberxpert/test/tests/<a class="el" href="test__covariatevalidatorandmodelselector_8cpp.html">test_covariatevalidatorandmodelselector.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
