<html>
<head>
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <script type="text/javascript" src="graphing.js"></script>
      <script type="text/javascript" src="graphdata.js"></script>
      <script type="text/javascript" src="test_graphing.js"></script>
</head>
<body>

    <div id="alltests"></div>
    <script>


    "use strict";

    let img_covariates_disabled_mini = new Image();
    img_covariates_disabled_mini.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkHBR4h1LQGgAAAAqpJREFUWMPt1k2oVVUUB/DfvVyjr4dlJS8jTJxUlNkoVAiiGhUVWElneIZN4lDmwHQQNmi0R2UftMvJJmggPgyhUUUNhEKjoCZR5iA/IArlhc+P22Q9kPvuvZ7rexHE+0/OOfusj/8567/W3ixjGS1Q1c3Q+6VAp2XiLlZiNY5jFkpOC+yHrF2PHs6UnPqDOXpXYlhyUtXNPmzGD3gU20pOn46wXYOpWFqFmcjzFl6biEAEfAwPl5zWxhfdjiOYHuH2fpCcjfg/45VYX0Cg26JMj+Dry0py4grEO6iD4J34Ee/hmWHGvRYEZrC/qpvpktOJqm624OyomgfOlZzmMIdqnEa6LTRwGAnHq7qZxZfYOkyEbfTUugRV3XTiug3X4WMcxpt4vKqbDUvRlt0xbPtV3XyIXfgT3+IATuJmHKnqZmMI9aoJ9Mb8gU14HjcO69+qbmbwETYu5g/0RgyfTtR9O+7D9wM2t+IYpqq6ebLkdHDMh6zEtTiF/qAOOiOc7sBXeAC7Sk7bB97fhv2hh4R7sQ4X8QE+wSHM263A2yWn3W1LsAdv4KWYZoO4gC34JqbeGhzFX7gJG7AzEv+OV7EXu9uKcB/eweuRbNQe8gvO43QQXYsv8GIMoXX4LTro6dYaKDl9HmV4EM/F+l24p+R0KEzPYxO+Kzldusz/IuZKThdwBk9MNIjmDUpOJ+d3vapuVsRGlKu62YNz6ONYyelS2zacaBAN4BbcgHfxUIhtbOBFD6IBzM+BawaTLxZd/zF6/1Lc/sDQmoqOWVCu3mKCj3k/HV2zGgcjz96S085JS/A31uP+eD4dvb45Es0N8fkJL8e2fQB/xAHlhYk0EK11NAJ8hmdj7J6K560lp7NDXHfg7iC+Hr/GIHpqSY/nV3MWWOoj/TL+H/gHU2DsVLkE3EIAAAAASUVORK5CYII=";
    img_covariates_disabled_mini.onload = function () {
            let img_dosages_disabled_mini = new Image();
            img_dosages_disabled_mini.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AgTBzkbKeJQQQAAAfBJREFUWMPt1bFLlVEYBvBfeiOMiAitqQiChoLCoXBwj2gIyqC+tm8JIoJPSIiEoKkhOAW1niU40D+QuLW0SVNR4BRENRipScMtteUIn6J4vd4bDb5w4HDOy3ue8zzvcw47sRP/exRl1dX6u1oEMY7GOls/8CrFMF2UlRTDlgE0Wsx7mME214DejSdFWT3DHSxvFUBPi3mLmMFhHK+NE5jEbTxuR67GFnKXUgyzmF3TG5fxGZdwF0vdArAqanr/KspqHoda7amOAKix0Is+zLVTo9HGoT01FpaKshrLt3+Ze6UrNmzmhp2uNe4yBnAQb3AxxTDXLResHDiH+ez/Y/nwaymG4XYl6NkCU99TDEMphrMphiFczXsjdfutteJm1my0I1cuOoGpbMNTKYb3eb2vKKup3JynUwzNTkmwyoIphj8YyTVe16wZcBKPUgzNzRjo2Y4FUwyfMI7+oqweFGU1iJv4iBet/A+deIieYjSPe3ntXIphsZNN+BXfNgCygCvYjz0YTTH8bPVfaLRI9dHafL20L7X5bMcfok2e4r1Z8/78JC/gQKcl2IgZuIUjeI4b2LfiilZk2C4Dg3iLmRTDQF6bwHlcSDFMdpOBXtzHOwzXbjyaJRnr9ne8iOt5/rsmyYeirM5sl92d2Il/Fn8BTcKn6imFersAAAAASUVORK5CYII=";
            img_dosages_disabled_mini.onload = function () {

                    function runTest(testFunction, testnb, scale, width, height) {
                            let testsdiv = document.getElementById("alltests");
                            let test = document.createElement("div");
                            test.setAttribute("style", "border-style: solid;border-width:1px;margin:3px");
                            let message = document.createElement("div");
                            test.appendChild(message);
                            let can = document.createElement("canvas");
                            can.setAttribute("id", "myCanvas" + testnb);
                            can.setAttribute("width", width);
                            can.setAttribute("height", height);
                            can.setAttribute("style", "height:400px; width:600px;border-style: solid;border-width:1px;margin:3px;");
                            test.appendChild(can);

                            testsdiv.appendChild(test);

                            var _testFunction = testFunction(),
                                obj = _testFunction.obj,
                                expected = _testFunction.expected;

                            obj.scale = scale;

                            var canvas = document.getElementById("myCanvas" + testnb);

                            obj.updateChartDimensions(canvas);
                            obj.canvas = canvas;
                            obj.annotationsCanvas = canvas;
                            obj.clockCanvas = canvas;

                            //document.getElementById("expectedMessage" + testnb).innerHTML = expected;
                            message.innerHTML = expected + "<br/>Scale : " + scale + ", width : " + width + ", height: " + height;

                            obj.img_covariates_disabled_mini = img_covariates_disabled_mini;
                            obj.img_dosages_disabled_mini = img_dosages_disabled_mini;

                            drawGraph(obj);
                            drawAnnotations(obj);
                    }

                    let allTests = [test1, test1, test1, test2, testempty, testtarget0, testtarget1, testtarget2, testtarget3, testtarget5, testtarget6, testtarget7, testtarget8, testtarget9, testtarget10, testtarget11, testtarget12];

                    runTest(allTests[0], 0, 1, 600, 400);
                    runTest(allTests[1], 1, 2, 1200, 800);
                    runTest(allTests[2], 2, 4, 2400, 1600);
                    for (var i = 3; i < allTests.length; i++) {
                            runTest(allTests[i], i, 2, 1200, 800);
                    }
            };
    };
    </script>
</body>
</html>
